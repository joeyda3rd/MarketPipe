#!/usr/bin/env python3
"""Fast test runner for MarketPipe.

Runs tests marked as 'fast' - suitable for development workflow.
These tests should complete in under 5 seconds.
"""

import sys
import subprocess
from pathlib import Path


def main():
    """Run fast tests for development feedback."""
    
    # Get project root (parent of scripts directory)
    project_root = Path(__file__).parent.parent
    
    try:
        cmd = [
            sys.executable, "-m", "pytest",
            "-m", "fast",                   # Only fast tests
            "--tb=short",                  # Short traceback format
            "--disable-warnings",          # Clean output
            "-v",                          # Verbose for development
        ]
        
        print("ğŸš€ Running fast tests...")
        result = subprocess.run(cmd, cwd=project_root)
        
        if result.returncode == 0:
            print("âœ… All fast tests passed!")
        else:
            print("âŒ Some fast tests failed!")
        
        return result.returncode
        
    except Exception as e:
        print(f"âŒ Error running tests: {e}")
        return 1


if __name__ == "__main__":
    sys.exit(main()) 