#!/bin/bash
# Format MarketPipe code
# Usage: scripts/format

set -e

echo "ğŸ¨ Formatting MarketPipe code..."

# Check if formatters are available
if ! command -v black &> /dev/null; then
    echo "âš ï¸  Black not found, installing..."
    pip install black
fi

# Format Python code
echo "ğŸ”§ Running Black formatter..."
black src/ tests/ examples/ --line-length 100

# Check if ruff is available for additional linting
if command -v ruff &> /dev/null; then
    echo "ğŸ” Running Ruff linter..."
    ruff check src/ tests/ examples/ --fix || echo "âš ï¸  Some ruff issues couldn't be auto-fixed"
fi

# Sort imports if isort is available
if command -v isort &> /dev/null; then
    echo "ğŸ“ Sorting imports..."
    isort src/ tests/ examples/
fi

echo "âœ… Code formatting complete!" 